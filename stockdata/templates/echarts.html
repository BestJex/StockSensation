{% load static %} 
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>图表</title>
    <!-- 引入 ECharts 文件 -->
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">  
    <script src="../static/js/stockdata/echarts.js"></script>
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">股市舆情分析</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">查询股票概况</a></li>
            <li><a href="#about">查询相关词</a></li>
            <li><a href="#contact">朴素贝叶斯预测</a></li>
            <li><a href="#contact">关于</a></li>
          </ul>
        </div>
      </div>
    </nav>
      <div class="container">
    <h2>h3. Bootstrap heading</h2>
</div>
  <div class="container">
    <div class="jumbotron">
     <div class="container">
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
                <div id="main" style="width:100%;height:500px;"></div>
            </div>
        </div>
    </div>

    </div>
  </div>

    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var items = {{items|safe}}
        var myChart = echarts.init(document.getElementById('main'));
        // 指定图表的配置项和数据
        console.log(items[0][0],items[1][0],items[2][0],items[3][0],items[4][0],items[5][0],items[6][0],items[7][0],items[8][0],items[9][0])
        var option = {
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
        orient: 'horizontal',
        x: 'top',
        data:[items[0][0],items[1][0],items[2][0],items[3][0],items[4][0],items[5][0],items[6][0],items[7][0],items[8][0],items[9][0]]
    },
    series: [
        {
            name:'关系数值',
            type:'pie',
            radius: ['20%', '70%'],
            avoidLabelOverlap: false,
            label: {
                normal: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            data:[
                {value:items[0][1], name:items[0][0]},
                {value:items[1][1], name:items[1][0]},
                {value:items[2][1], name:items[2][0]},
                {value:items[3][1], name:items[3][0]},
                {value:items[4][1], name:items[4][0]},
                {value:items[5][1], name:items[5][0]},
                {value:items[6][1], name:items[6][0]},
                {value:items[7][1], name:items[7][0]},
                {value:items[8][1], name:items[8][0]},
                {value:items[9][1], name:items[9][0]},
            ]
        }
    ]
};

        // 使用刚指定的配置项和数据显示图表
        
window.onresize = function () {
    myChart.resize(); //使第一个图表适应
}
myChart.setOption(option);
    </script>
    <div class="container">
        <div class="col-md-12 col-xs-12">
            <a href="/" class="btn btn-default btn-block" role="button">返回首页</a>
        </div>
    </div>
</body>
</html>
